---
title: zabbix 测试踩坑收集
date: 2023-06-05 17:05:48
tags:
categories:
---


## yum 无法update

出现如下错误：

```bash
[root@autocontroller ~]# yum update
CentOS-8 - AppStream 70 B/s | 38 B 00:00
Error: Failed to download metadata for repo 'AppStream': Cannot prepare internal mirrorlist: No URLs in mirrorlist
```

解决办法：

```bash
cd /etc/yum.repos.d/
sed -i 's/mirrorlist/#mirrorlist/g' /etc/yum.repos.d/CentOS-*
sed -i 's|#baseurl=http://mirror.centos.org|baseurl=http://vault.centos.org|g' /etc/yum.repos.d/CentOS-*
```

- [参考文章](https://techglimpse.com/failed-metadata-repo-appstream-centos-8/)


## 加入zabbix源

```bash
rpm -Uvh https://mirrors.aliyun.com/zabbix/zabbix/5.0/rhel/7/x86_64/zabbix-release-5.0-1.el7.noarch.rpm
```

## 安装

```bash
dnf install zabbix-agent
```