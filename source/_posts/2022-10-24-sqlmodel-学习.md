---
title: sqlmode 学习
date: 2022-10-24 09:49:14
tags:
- python
- sql
categories:
- 编程
- python
---

`sqlmodel` 是将 `sqlalchemy` 和 `pydantic` 结合起来的产物，在很多配置上与 `sqlalchemy` 一致，但是在使用上更加简单。并且做了非常好的autocomplete支持。

[Github](https://github.com/tiangolo/sqlmodel)
[文档](https://sqlmodel.tiangolo.com/)

## 安装

```bash
pip install pymodel
```

## 介绍

### engine 和 session 的区别

engine是全局单一的，session 是每次请求都会创建一个新的。

> We would re-use the same engine in all the code, everywhere in the application (shared by all the requests). But for each request, we would create and use a new session. And once the request is done, we would close the session.

### Relationship 中的 `back_populates`

意义是在commit之前，可以进行同步修改内容

> [解释](https://sqlmodel.tiangolo.com/tutorial/relationship-attributes/back-populates/)
