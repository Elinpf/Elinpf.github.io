---
title: python 有趣的代码片段收集
date: 2022-03-10 14:32:58
tags:
- python
- 收集
- todo
categories:
- 编程
- python
---

## 使用二进制作为选项判断

这是在`Rich`中看到的一段, 用`sum`总和，得到那些参数为真

```py
self._set_attributes = sum(
    (
        bold is not None,
        dim is not None and 2,
        italic is not None and 4,
        underline is not None and 8,
        blink is not None and 16,
        blink2 is not None and 32,
        reverse is not None and 64,
        conceal is not None and 128,
        strike is not None and 256,
        underline2 is not None and 512,
        frame is not None and 1024,
        encircle is not None and 2048,
        overline is not None and 4096,
    )
)
self._attributes = (
    sum(
        (
            bold and 1 or 0,
            dim and 2 or 0,
            italic and 4 or 0,
            underline and 8 or 0,
            blink and 16 or 0,
            blink2 and 32 or 0,
            reverse and 64 or 0,
            conceal and 128 or 0,
            strike and 256 or 0,
            underline2 and 512 or 0,
            frame and 1024 or 0,
            encircle and 2048 or 0,
            overline and 4096 or 0,
        )
    )
```