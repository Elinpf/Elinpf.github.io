---
title: 开发时如何使用Git分支
date: 2022-04-24 16:23:45
tags:
- git
categories:
---

之前在开发的时候并没有一个成熟的git开发流程，这次整理三种开发流。

流行的开发流有三种：
1. TrunkBased：主干在手，天下我有。所有代码都往主干上招呼，发版也只用主干。
2. GitFlow：严谨、规范、难用，主要是记不住该往哪个分支合并了。
3. AoneFlow：前两种都不行，那就借鉴各自的优点，达到阴阳平衡，中庸也。

## TrunkBased

这种开发流将所有东西都丢到主线上，然后再从主线上拉取分支作为release。简单粗暴，其实很适合个人开发。

![](1.jpg)

## GitFlow

这中开发流严谨，但是略显复杂。

![](2.jpg)

`master`: 主线上只能合并，不能做直接修改
`develop`: 大部分情况可以在这里直接进行开发
`feature/*`: 按特性名称新增分支，在特性开发完成后合并到develop，后可以删除。
`release/*`: 按发布版本从develop新建分支，用于在正式发布前的测试bug修复等，完成后合并到master和develop。完成后可以删除。
`hotfix/*`: 在主线已经发布的版本中出现需要打补丁的情况，使用这个分支，完成后删除。

![](3.png)

## AoneFlow

这个开发流的中心思想是feature拼装成release，然后release合并到master。

所以这个方式开发起来是组装式的，特性灵活。

![](4.jpg)
![](5.jpg)
